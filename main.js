(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){e.classList.add("popup_opened"),document.addEventListener("keydown",r)}function o(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",r)}function n(e){var t=document.querySelector(".popup_opened");e.target.classList.contains("popup")&&o(t)}function r(e){var t=document.querySelector(".popup_opened");"Escape"===e.key&&o(t)}e.d({},{$Q:()=>j,ST:()=>A,gf:()=>b,Iv:()=>L});var c=document.querySelector("#elements_card"),i=document.querySelector(".elements__grid"),u=document.querySelector(".popup-image"),l=u.querySelector(".popup__image"),a=u.querySelector(".popup__image-title");function s(e,t){e.prepend(t)}function d(e,o){var n=c.cloneNode(!0).content.querySelector(".elements__grid-unit"),r=n.querySelector(".elements__photo"),i=n.querySelector(".elements__info-place"),s=n.querySelector(".elements__delete-icon"),d=n.querySelector(".elements__like-icon");return i.textContent=e,r.src=o,r.alt=e,r.addEventListener("click",(function(){t(u),l.src=r.src,l.alt=i.textContent,a.textContent=i.textContent})),s.addEventListener("click",(function(){n.remove()})),d.addEventListener("click",(function(){d.classList.toggle("elements__like-icon_active")})),n}var f="form__input_error",p="form__error_visible",m="form__save_disabled",_=function(e){e.classList.add(m),e.disabled=!0},v=function(e,t){var o=e.querySelector(".form__save");!function(e){return e.some((function(e){return!e.validity.valid}))}(t)?function(e){e.classList.remove(m),e.disabled=!1}(o):_(o)};Array.from(document.querySelectorAll(".form")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e){var t=Array.from(e.querySelectorAll(".form__input"));t.forEach((function(o){o.addEventListener("input",(function(){(function(e,t){t.validity.valid?function(e,t){var o=e.querySelector(".".concat(t.id,"__error"));t.classList.remove(f),o.classList.remove(p),o.textContent="error"}(e,t):function(e,t,o){var n=e.querySelector(".".concat(t.id,"__error"));t.classList.add(f),n.textContent=o,n.classList.add(p)}(e,t,t.validationMessage)})(e,o),v(e,t)}))})),v(e,t)}(e)}));var y=function(e,t){return fetch("https://nomoreparties.co/v1/plus-cohort7/users/me",{headers:{authorization:"55f6dcbe-e189-42c3-b858-3cc6208e5fc5"}}).then((function(e){if(e.ok)return e.json();console.log("ERROR")})).then((function(o){e.textContent=o.name,t.textContent=o.about})).catch((function(e){console.log(e)}))},S=document.querySelector(".popup-profile"),h=S.querySelector(".popup__close"),q=S.querySelector(".form"),L=S.querySelector(".form__field-name"),b=S.querySelector(".form__field-about"),E=document.querySelector(".profile__edit"),g=document.querySelector(".profile__name"),k=document.querySelector(".profile__text"),C=document.querySelector(".popup-place"),x=C.querySelector(".popup__close"),O=C.querySelector(".form"),A=C.querySelector(".form__field-name"),j=C.querySelector(".form__field-about"),R=document.querySelector(".profile__add"),T=C.querySelector(".form__save"),w=u.querySelector(".popup__close"),z=Array.from(document.querySelectorAll(".popup"));O.addEventListener("submit",(function(e){e.preventDefault();var t=d(A.value,j.value);s(i,t),o(C),fetch("https://nomoreparties.co/v1/plus-cohort7/cards",{method:"POST",headers:{authorization:"55f6dcbe-e189-42c3-b858-3cc6208e5fc5","Content-Type":"application/json"},body:JSON.stringify({name:A.value,link:j.value})}),A.value="",j.value="",_(T)})),z.forEach((function(e){e.addEventListener("mousedown",n)})),E.addEventListener("click",(function(){t(S),L.value=g.textContent,b.value=k.textContent})),h.addEventListener("click",(function(){o(S)})),R.addEventListener("click",(function(){t(C)})),x.addEventListener("click",(function(){o(C)})),w.addEventListener("click",(function(){o(u)})),q.addEventListener("submit",(function(e){e.preventDefault(),fetch("https://nomoreparties.co/v1/plus-cohort7/users/me",{method:"PATCH",headers:{authorization:"55f6dcbe-e189-42c3-b858-3cc6208e5fc5","Content-Type":"application/json"},body:JSON.stringify({name:L.value,about:b.value})}),o(S),y(g,k)})),y(g,k),fetch("https://nomoreparties.co/v1/plus-cohort7/cards",{headers:{authorization:"55f6dcbe-e189-42c3-b858-3cc6208e5fc5"}}).then((function(e){if(e.ok)return e.json();console.log("ERROR")})).then((function(e){e.forEach((function(e){var t=d(e.name,e.link);s(i,t)}))})).catch((function(e){console.log(e)}))})();